# PagerDuty + Zerotect Integration Benefits

* Detect memory-based attacks in progress

# How it Works

Zerotect looks for faults (such as segmentation fault, protection fault, etc.) in the [kernel log buffer](https://www.kernel.org/doc/html/latest/core-api/printk-basics.html) and analyzes them in real-time to detect memory-based attacks in progress. When an attack is detected, an Event is raised in PagerDuty.

# Requirements

* PagerDuty integrations require an Admin base role for account authorization. If you do not have this role, please reach out to an Admin or Account Owner within your organization to configure the integration.
* Zerotect requires an integration key. Integration keys are generated by creating a new service or by creating a new integration for an existing service.

# Support

If you need help with this integration, please contact support@polyverse.com. 

# Integration Walkthrough

## In PagerDuty

### Integrating With a PagerDuty Service
1. From the **Configuration** menu, select **Services**.
2. There are two ways to add an integration to a service:
   * **If you are adding your integration to an existing service**: Click the **name** of the service you want to add the integration to. Then, select the **Integrations** tab and click the **New Integration** button.
   * **If you are creating a new service for your integration**: Please read our documentation in section [Configuring Services and Integrations](https://support.pagerduty.com/docs/services-and-integrations#section-configuring-services-and-integrations) and follow the steps outlined in the [Create a New Service](https://support.pagerduty.com/docs/services-and-integrations#section-create-a-new-service) section, selecting **Zerotect** as the **Integration Type** in step 4. Continue with the In  **Zerotect**  section (below) once you have finished these steps.
3. Enter an **Integration Name** in the format `monitoring-tool-service-name` (e.g.  **Zerotect**-Attack-Detections) and select  **Zerotect**  from the Integration Type menu.
4. Click the **Add Integration** button to save your new integration. You will be redirected to the Integrations tab for your service.
5. An **Integration Key** will be generated on this screen. Keep this key saved in a safe place, as it will be used when you configure the integration with  ***[PARTNER-NAME]***  in the next section.
![](https://pdpartner.s3.amazonaws.com/ig-template-copy-integration-key.png)

## In **ZeroTect**

***Outline the configuration steps in your tool starting here.***

# How to Uninstall

***Add instructions here on how to uninstall your app (e.g. going to the profile page to revoke access vs. deleting the integration key or extension).***



# PagerDuty Integration

This page describes how to send Polytect detections to PagerDuty.

Broadly there are two steps:

1. Generate a PagerDuty Integration Key (or Routing Key)

2. Run Zerotect with that key either through the CLI or Configuration file.

Let's go through each step by step.

## 1. Generate a PagerDuty Integration Key (or Routing Key)

See PagerDuty's Documentation for details: https://support.pagerduty.com/docs/services-and-integrations#create-a-generic-events-api-integration

## 2. Run Zerotect with the PagerDuty Integration/Routing key

The most direct way to run Zerotect with a PagerDuty integration is through the single CLI paramater `pagerduty`:

```.bash
./zerotect --pagerduty <routing_key>
```

The slightly less direct, but more robust way to run Zerotect (and more applicable when running as a daemon) is to set up the PagerDuty key in a config file like this:

`/etc/zerotect/zerotect.toml`

```.toml
pagerduty_routing_key = 'routing_key'
```

And then running Zerotect with the configuration file for input:

```.bash
./zerotect --configfile /etc/zerotect/zerotect.toml
```
